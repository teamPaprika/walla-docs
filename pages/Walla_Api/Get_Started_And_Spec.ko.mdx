import {Callout, Steps} from 'nextra/components'

### ì‚¬ì „ ì¤€ë¹„

- **ì™ˆë¼ ì‘ë‹µ API**ëŠ” **ì™ˆë¼ë¡œ ìˆ˜ì§‘í•œ ë°ì´í„°ë¥¼ ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ì—°ë™**í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” APIì…ë‹ˆë‹¤.
- ì™ˆë¼ ì‘ë‹µ APIë¥¼ ì‚¬ìš©í•˜ë©´ ì™ˆë¼ë¡œ ìˆ˜ì§‘í•œ ë°ì´í„°ë¥¼ ì™¸ë¶€ ì‹œìŠ¤í…œìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆì–´ìš”.
- ì™ˆë¼ ì‘ë‹µ APIëŠ” íŒ€ ë‚´ **ê´€ë¦¬ì** ê¶Œí•œì„ ê°€ì ¸ì•¼ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŒ€ ë‚´ ê´€ë¦¬ìê°€ ì•„ë‹ˆë¼ë©´ íŒ€ ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì—¬ ê¶Œí•œì„ ë°›ê±°ë‚˜, ê´€ë¦¬ìë¡œë¶€í„° API í‚¤ë¥¼ ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- APIë¡œ íƒìƒ‰í•˜ê³ ì í•˜ëŠ” í”„ë¡œì íŠ¸ê°€ ì†í•œ íŒ€ì´ **Enterprise í”Œëœ**ì— ê°€ì…ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.



### API í‚¤ ë°œê¸‰

ì™ˆë¼ì˜ íŒ€ ê´€ë¦¬ìëŠ” ì™ˆë¼ì˜ íŒ€ ì„¤ì • í˜ì´ì§€ì—ì„œ API í‚¤ë¥¼ í™•ì¸í•˜ê³  ë°œê¸‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![Untitled](https://paprikastorage.com/images%2Fwalla_api%2Fget_api_key.png)

API í‚¤ì™€ Client IDë¥¼ í™•ì¸í•˜ê³  ë©”ëª¨ì¥ ë“±ì— ì €ì¥í•´ë‘ì„¸ìš”.

<Callout type='error' emoji="ğŸš¨">**API í‚¤ëŠ” ì™¸ë¶€ì— ë…¸ì¶œë˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.**</Callout>

### ìš©ì–´ í•´ì„¤

#### `projectKey`
ì™ˆë¼ì˜ í”„ë¡œì íŠ¸ í‚¤ëŠ” ì‘ì„±í•˜ëŠ” í¼ ë³„ë¡œ ìƒì„±ë˜ëŠ” ê³ ìœ í•œ ê°’ì…ë‹ˆë‹¤.

ì´ ê°’ì€ ë°°í¬ëœ ì™ˆë¼ í¼ì˜ ê³µìœ  URLì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
https://walla.my/v/{PROJECT_KEY}
https://walla.my/survey/{PROJECT_KEY}
```

---

#### `fieldLabel`

ì™ˆë¼ í¼ì˜ ê° í•„ë“œ ì•ˆì˜ Title ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

---

#### `value`

fieldLabel ì— ëŒ€í•œ ì„¤ë¬¸ì¡°ì‚¬í•œ ì‚¬ëŒë“¤ì˜ ì‘ë‹µ ê°’ì…ë‹ˆë‹¤.

#### `responseKey`

ì™ˆë¼ ì„¤ë¬¸ì— ëŒ€í•œ ê° ì‘ë‹µì€ ê³ ìœ í•œ ì‘ë‹µ í‚¤ì…ë‹ˆë‹¤.

í•´ë‹¹ ì‘ë‹µ í‚¤ëŠ” ì™ˆë¼ì˜ ì‘ë‹µì‹œíŠ¸ì—ì„œ í™•ì¸í•˜ê±°ë‚˜ ì›¹í›…ì„ í†µí•´ ì „ë‹¬ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

#### `customerKey`

ì™ˆë¼ ì„¤ë¬¸ì— ì°¸ì—¬í•œ ì‚¬ëŒì˜ ê³ ìœ í•œ ì‹ë³„ìì…ë‹ˆë‹¤.

í•´ë‹¹ í‚¤ëŠ” ì‘ë‹µìê°€ ì‘ë‹µí•˜ëŠ” ì„¤ë¬¸ URLì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ì—¬ ê¸°ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì™¸ë¶€ ì‹œìŠ¤í…œì—ì„œ ê´€ë¦¬í•˜ê³ ì í•˜ëŠ” ê³ ê°ì˜ ê³ ìœ í•œ ì‹ë³„ìë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ì‘ë‹µí•œ ì„¤ë¬¸ì„ ì‹ë³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
ex)
https://walla.my/survey/{PROJECT_KEY}?customerKey={CUSTOMER_KEY}
https://walla.my/v/{PROJECT_KEY}?customerKey={CUSTOMER_KEY}
```

#### `fieldId`

ì™ˆë¼ ì„¤ë¬¸ì˜ ê° í•„ë“œ ë‹¹ ê³ ìœ í•œ í‚¤ê°’ì…ë‹ˆë‹¤.

#### `response`

ì™ˆë¼ ì„¤ë¬¸ì— ëŒ€í•´ ì‘ë‹µí•œ ì‚¬ëŒë“¤ì˜ ì‘ë‹µ ê°’ì…ë‹ˆë‹¤.

- id: í•„ë“œì— ëŒ€í•œ ê³ ìœ  í‚¤ ê°’ì…ë‹ˆë‹¤. ì¦‰ fieldId ì™€ ê°™ì€ í˜•íƒœì…ë‹ˆë‹¤.

- label: í•„ë“œì— ëŒ€í•œ Title ì…ë‹ˆë‹¤. ì¦‰ fieldLabel ì™€ ê°™ì€ í˜•íƒœì…ë‹ˆë‹¤.

- answer: í•„ë“œì— ëŒ€í•´ ì‘ë‹µí•œ ê°’ì…ë‹ˆë‹¤. ì¦‰ value ì™€ ê°™ì€ í˜•íƒœì…ë‹ˆë‹¤.

```json
{
  "response": [
    {
      "id": "fieldId",
      "label": "fieldLabel",
      "answer": "value"
    },
    {
      "id": "fieldId",
      "label": "fieldLabel",
      "answer": "value"
    }
  ]
}
```

### API ì‚¬ìš©í•˜ê¸°

<Steps>
    ### Authorization í† í° ë§Œë“¤ê¸°

    - ì™ˆë¼ ì‘ë‹µ APIë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € Headers ì•ˆì— key: "Authorization" value: **TOKEN** ì„ ë„£ì–´ì•¼ í•©ë‹ˆë‹¤.

    ```markdown
    TOKEN ì€ {Client ID}:{API Key} ë¥¼ base64ë¡œ ì¸ì½”ë”©í•œ ê°’ì…ë‹ˆë‹¤.
    ```

    ### API í…ŒìŠ¤íŠ¸í•˜ê¸°

    [ì´
    ë§í¬](https://staging---walla-api-thqwfj7gra-uc.a.run.app/api-docs/#/Check%20Response%20Exists/post_checkFieldDataExists)ë¥¼
    í†µí•´ ì™ˆë¼ ì‘ë‹µ APIë¥¼ í…ŒìŠ¤íŠ¸í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

    ![Untitled](https://paprikastorage.com/images%2Fwalla_api%2Fswagger_authorize.png)

    í•´ë‹¹ ìœ„ì¹˜ì—ì„œ ìƒì„±í•œ í† í°ì„ ì…ë ¥í•˜ê³ , `Try it out` ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ APIë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Steps>

### API ìƒì„¸ ìŠ¤í™

- base URL: `https://staging---walla-api-thqwfj7gra-uc.a.run.app`

#### checkFieldDataExists

íŠ¹ì • í•„ë“œì— ëŒ€í•œ ì‘ë‹µì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

- method: POST
- url: `https://staging---walla-api-thqwfj7gra-uc.a.run.app/checkFieldDataExists`
- parameters: empty
- header: `Authorization: {TOKEN}`
- request body:
```json
{
"projectKey": "string",
"fieldLabel": "string",
"value": "string"
}
```

- response: `boolean` ê²°ê³¼ ê°’ì— ëŒ€í•œ true / false ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

#### checkCustomerKeyExists

íŠ¹ì • ê³ ê°ì´ ì‘ë‹µí•œ ì„¤ë¬¸ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

- method: POST
- url: `https://staging---walla-api-thqwfj7gra-uc.a.run.app/checkCustomerKeyExists`
- parameters: empty
- header: `Authorization: {TOKEN}`
- request body:
```json
{
"projectKey": "string",
"customerKey": "string"
}
```

- response: `boolean` ê²°ê³¼ ê°’ì— ëŒ€í•œ true / false ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

#### listColumnData

íŠ¹ì • í•„ë“œì— ëŒ€í•œ ì‘ë‹µì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

- method: POST
- url: `https://staging---walla-api-thqwfj7gra-uc.a.run.app/listColumnData`
- parameters: empty
- header: `Authorization: {TOKEN}`
- request body:
```json
{
  "projectKey": "string",
  "fieldLabel": "string"
}
```
- response: íŠ¹ì • í”„ë¡œì íŠ¸ì˜ íŠ¹ì • í•„ë“œì— ëŒ€í•œ ì‘ë‹µì— ëŒ€í•œ ì •ë³´ë¥¼ ë°°ì—´ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤. ê° ì‘ë‹µì—ëŠ” ì‘ë‹µ ë‚´ìš©, íƒ€ì„ìŠ¤íƒ¬í”„, ì‘ë‹µ í‚¤ê°€ í¬í•¨ë©ë‹ˆë‹¤.

<Callout type='info' emoji="ğŸ””">**timestamp**ëŠ” ISO 8601 í˜•ì‹ì˜ Date ë¬¸ìì—´ì…ë‹ˆë‹¤. ex) 2024-04-15T09:28:55.000Z</Callout>

```json
{
"fieldLabel": "string",
"responses": [
    {
      "response": "string",
      "timestamp": "string",
      "responseKey": "string"
    }
  ],
"fieldId": "string"
}
```

#### listCustomerKeys

customerKey ê°€ ì‚¬ìš©ëœ ì‘ë‹µì˜ ë°ì´í„°ë¥¼ ë°°ì—´ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

- method: POST
- url: `https://staging---walla-api-thqwfj7gra-uc.a.run.app/listCustomerKeys`
- parameters: empty
- header: `Authorization: {TOKEN}`
- request body:

```json
{
  "projectKey": "string"
}
```

- response: ê° ì‘ë‹µì˜ customerKey, íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

```json
[
    {
        "customerKey": "string",
        "timestamp": "string"
    },
    {
        "customerKey": "string",
        "timestamp": "string"
    }
]
```

#### getResponseByCustomerKey

íŠ¹ì • ê³ ê°ì´ ì‘ë‹µí•œ ì„¤ë¬¸ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

- method: POST
- url: `https://staging---walla-api-thqwfj7gra-uc.a.run.app/getResponseByCustomerKey`
- parameters: empty
- header: `Authorization: {TOKEN}`
- request body:
```json
{
  "projectKey": "string",
  "customerKey": "string"
}
```

- response: customerKey ì— ì—°ê´€ëœ ì‘ë‹µì„ ë°˜í™˜í•©ë‹ˆë‹¤. íƒ€ì„ìŠ¤íƒ¬í”„, í”„ë¡œì íŠ¸ í‚¤, ì‘ë‹µ í‚¤, ê³ ê° í‚¤ê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©°,

ê°ê°ì˜ ê°ì²´ì— í•„ë“œì˜ ê³ ìœ  fieldId(id), í•„ë“œì˜ Title(label), ê·¸ë¦¬ê³  í•„ë“œì— ëŒ€í•œ ì‘ë‹µ(answer)ì„ í¬í•¨í•©ë‹ˆë‹¤.

```json
{
  "timestamp": "string",
  "projectKey": "string",
  "responseKey": "string",
  "customerKey": "string",
  "response": [
    {
      "id": "string",
      "label": "string",
      "answer": "string"
    }
  ]
}
```

#### getResponseByResponseKey

íŠ¹ì • ì‘ë‹µ í‚¤ì— ëŒ€í•œ ì‘ë‹µì„ ë°˜í™˜í•©ë‹ˆë‹¤.

- method: POST
- url: `https://staging---walla-api-thqwfj7gra-uc.a.run.app/getResponseByResponseKey`
- parameters: empty
- header: `Authorization: {TOKEN}`
- request body:
```json
{
  "projectKey": "string",
  "responseKey": "string"
}
```

- response: responseKey ì— ì—°ê´€ëœ ì‘ë‹µì„ ë°˜í™˜í•©ë‹ˆë‹¤. íƒ€ì„ìŠ¤íƒ¬í”„, í”„ë¡œì íŠ¸ í‚¤, ì‘ë‹µ í‚¤, ê³ ê° í‚¤ê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©°,

ê°ê°ì˜ ê°ì²´ì— í•„ë“œì˜ ê³ ìœ  fieldId(id), í•„ë“œì˜ Title(label), ê·¸ë¦¬ê³  í•„ë“œì— ëŒ€í•œ ì‘ë‹µ(answer)ì„ í¬í•¨í•©ë‹ˆë‹¤.

```json
{
  "timestamp": "string",
  "projectKey": "string",
  "customerKey": "string",
  "response": [
    {
      "id": "string",
      "label": "string",
      "answer": "string"
    }
  ]
}
```

#### getProjectResponses

íŠ¹ì • í”„ë¡œì íŠ¸ì— ëŒ€í•œ ëª¨ë“  ì‘ë‹µì„ ë°˜í™˜í•©ë‹ˆë‹¤.

- method: POST
- url: `https://staging---walla-api-thqwfj7gra-uc.a.run.app/getProjectResponses`
- parameters: empty
- header: `Authorization: {TOKEN}`
- request body:

```json
{
  "projectKey": "string"
}
```

- response: í”„ë¡œì íŠ¸ì— ëŒ€í•œ ëª¨ë“  ì‘ë‹µì„ ë°˜í™˜í•©ë‹ˆë‹¤. ê° ì‘ë‹µì—ëŠ” fieldId(id), í•„ë“œ Title(label), íƒ€ì„ìŠ¤íƒ¬í”„, [hiddenFields](/Create_Form_&_Survey_And_Share/Hidden_Field) ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```json
{
    "projectDetails": {
        "fields": [
            {
                "id": "string",
                "label": "string"
            }
        ],
        "hiddenFields": [],
        "projectKey": "string"
    },
    "responses": [
        {
            "timestamp": "string",
            "customerKey": "string",
            "responseKey": "string",
            "response": [
                {
                    "id": "string",
                    "label": "string",
                    "answer": "string"
                }
            ]
        },
        {
            "timestamp": "string",
            "customerKey": "string",
            "responseKey": "string",
            "response": [
                {
                    "id": "string",
                    "label": "string",
                    "answer": "string"
                }
            ]
        }
    ]
}
```

### ì—ëŸ¬ ì‘ë‹µ ì½”ë“œ

<Callout type='error' emoji="ğŸš¨">**ëª¨ë“  API í˜¸ì¶œì—ëŠ” TOKEN ì´ í•„ìš”í•©ë‹ˆë‹¤.**</Callout>

#### 400 Bad Request

- íŠ¹ì • í‚¤ì— ëŒ€í•´ ì˜ëª»ëœ ê°’ì´ ë“¤ì–´ê°”ì„ ë•Œ ë°˜í™˜ë©ë‹ˆë‹¤.

```json
{
  "message": "Bad Request"
}
```

- ì¡°íšŒí•  í”„ë¡œì íŠ¸ê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œ ë°˜í™˜ë©ë‹ˆë‹¤.

```json
{
  "message": "Bad Request: Project does not exist"
}
```

#### 403 Unauthorized & Forbidden

- ë°œê¸‰ë°›ëŠ” Client IDê°€ í”„ë¡œì íŠ¸ì— ì ‘ê·¼í•  ê¶Œí•œì´ ì—†ëŠ” ê²½ìš° ë°˜í™˜ë©ë‹ˆë‹¤.

```json
{
  "message": "Unauthorized: No Access to Project"
}
```

- í—¤ë”ì— Authorization í† í°ì´ ì—†ëŠ” ê²½ìš°ì— ë°˜í™˜ë©ë‹ˆë‹¤.

```json
{
  "message": "Unauthorized: No API Key"
}
```

- í—¤ë”ì— ì˜ëª»ëœ Authorization í† í°ì´ ë“¤ì–´ê°„ ê²½ìš°ì— ë°˜í™˜ë©ë‹ˆë‹¤.

```json
{
  "message": "Unauthorized: Invalid API Key"
}
```

- íŒ€ ë‚´ ê´€ë¦¬ìê°€ ì•„ë‹Œ ì‚¬ëŒì´ APIë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•  ë•Œ ë°˜í™˜ë©ë‹ˆë‹¤.

```json
{
  "message": "Unauthorized: No Access to API"
}
```

#### 500 Internal Server Error

- ì„œë²„ìƒì˜ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ ë°˜í™˜ë©ë‹ˆë‹¤.

```json
{
  "message": "Internal Server Error"
}
```