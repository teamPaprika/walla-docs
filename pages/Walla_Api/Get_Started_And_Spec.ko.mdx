import {Callout, Steps} from 'nextra/components'

<Callout type='info' emoji="π””">**μ™λΌ μ‘λ‹µ APIλ” Enterprise ν”λλ¶€ν„° μ΄μ© κ°€λ¥ν•©λ‹λ‹¤.**</Callout>

**μ™λΌ μ‘λ‹µ API**λ” **μ™λΌλ΅ μμ§‘ν• λ°μ΄ν„°λ¥Ό μ™Έλ¶€ μ‹μ¤ν…κ³Ό μ—°λ™**ν•  μ μλ„λ΅ ν•λ” APIμ…λ‹λ‹¤. μ™λΌ μ‘λ‹µ APIλ¥Ό μ‚¬μ©ν•λ©΄ μ™λΌλ΅ μμ§‘ν• λ°μ΄ν„°λ¥Ό μ™Έλ¶€ μ‹μ¤ν…μΌλ΅ μ „λ‹¬ν•  μ μμµλ‹λ‹¤.

### μ‚¬μ „ μ¤€λΉ„

<Callout type='error' emoji="π¨">**μ™λΌ μ‘λ‹µ APIλ” Enterprise ν”λλ¶€ν„° μ΄μ© κ°€λ¥ν•©λ‹λ‹¤.**</Callout>

- μ™λΌ μ‘λ‹µ APIλ” ν€ λ‚΄ **κ΄€λ¦¬μ** κ¶ν•μ„ κ°€μ Έμ•Όλ§ μ‚¬μ©ν•  μ μμµλ‹λ‹¤. ν€ λ‚΄ κ΄€λ¦¬μκ°€ μ•„λ‹λΌλ©΄ ν€ κ΄€λ¦¬μμ—κ² λ¬Έμν•μ—¬ κ¶ν•μ„ λ°›κ±°λ‚, κ΄€λ¦¬μλ΅λ¶€ν„° API ν‚¤λ¥Ό λ°›μ•„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
- APIλ΅ νƒμƒ‰ν•κ³ μ ν•λ” ν”„λ΅μ νΈκ°€ μ†ν• ν€μ΄ **Enterprise ν”λ**μ— κ°€μ…λμ–΄ μμ–΄μ•Ό ν•©λ‹λ‹¤.



### API ν‚¤ λ°κΈ‰

μ™λΌμ ν€ κ΄€λ¦¬μλ” μ™λΌμ ν€ μ„¤μ • νμ΄μ§€μ—μ„ API ν‚¤λ¥Ό ν™•μΈν•κ³  λ°κΈ‰ν•  μ μμµλ‹λ‹¤.

![Untitled](https://paprikastorage.com/images%2Fwalla_api%2Fget_api_key.png)

API ν‚¤μ™€ Client IDλ¥Ό ν™•μΈν•κ³  λ©”λ¨μ¥ λ“±μ— μ €μ¥ν•΄λ‘μ„Έμ”.

<Callout type='error' emoji="π¨">**API ν‚¤λ” μ™Έλ¶€μ— λ…Έμ¶λμ§€ μ•λ„λ΅ μ£Όμν•΄μ•Ό ν•©λ‹λ‹¤.**</Callout>

### μ©μ–΄ ν•΄μ„¤

#### `projectKey`
μ™λΌμ ν”„λ΅μ νΈ ν‚¤λ” μ‘μ„±ν•λ” νΌ λ³„λ΅ μƒμ„±λλ” κ³ μ ν• κ°’μ…λ‹λ‹¤.

μ΄ κ°’μ€ λ°°ν¬λ μ™λΌ νΌμ κ³µμ  URLμ—μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

```
https://walla.my/v/{PROJECT_KEY}
https://walla.my/survey/{PROJECT_KEY}
```

---

#### `fieldLabel`

μ™λΌ νΌμ κ° λ¬Έν•­ μ•μ Title μ„ μλ―Έν•©λ‹λ‹¤.

---

#### `value`

fieldLabel μ— λ€ν• μ„¤λ¬Έμ΅°μ‚¬ν• μ‚¬λλ“¤μ μ‘λ‹µ κ°’μ…λ‹λ‹¤.

#### `responseKey`

μ™λΌ μ„¤λ¬Έμ— λ€ν• κ° μ‘λ‹µμ€ κ³ μ ν• μ‘λ‹µ ν‚¤μ…λ‹λ‹¤.

ν•΄λ‹Ή μ‘λ‹µ ν‚¤λ” μ™λΌμ μ‘λ‹µμ‹νΈμ—μ„ ν™•μΈν•κ±°λ‚ μ›Ήν›…μ„ ν†µν•΄ μ „λ‹¬λ°›μ„ μ μμµλ‹λ‹¤.

---

#### `customerKey`

μ™λΌ μ„¤λ¬Έμ— μ°Έμ—¬ν• μ‚¬λμ κ³ μ ν• μ‹λ³„μμ…λ‹λ‹¤.

ν•΄λ‹Ή ν‚¤λ” μ‘λ‹µμκ°€ μ‘λ‹µν•λ” μ„¤λ¬Έ URLμ νλΌλ―Έν„°λ΅ μ „λ‹¬ν•μ—¬ κΈ°λ΅ν•  μ μμµλ‹λ‹¤.

μ™Έλ¶€ μ‹μ¤ν…μ—μ„ κ΄€λ¦¬ν•κ³ μ ν•λ” κ³ κ°μ κ³ μ ν• μ‹λ³„μλ¥Ό μ‚¬μ©ν•μ—¬ μ‚¬μ©μκ°€ μ‘λ‹µν• μ„¤λ¬Έμ„ μ‹λ³„ν•  μ μμµλ‹λ‹¤.

```
ex)
https://walla.my/survey/{PROJECT_KEY}?customerKey={CUSTOMER_KEY}
https://walla.my/v/{PROJECT_KEY}?customerKey={CUSTOMER_KEY}
```

#### `fieldId`

μ™λΌ μ„¤λ¬Έμ κ° λ¬Έν•­ λ‹Ή κ³ μ ν• ν‚¤κ°’μ…λ‹λ‹¤.

#### `response`

μ™λΌ μ„¤λ¬Έμ— λ€ν•΄ μ‘λ‹µν• μ‚¬λλ“¤μ μ‘λ‹µ κ°’μ…λ‹λ‹¤.

- id: λ¬Έν•­μ— λ€ν• κ³ μ  ν‚¤ κ°’μ…λ‹λ‹¤. μ¦‰ fieldId μ™€ κ°™μ€ ν•νƒμ…λ‹λ‹¤.

- label: λ¬Έν•­μ— λ€ν• Title μ…λ‹λ‹¤. μ¦‰ fieldLabel μ™€ κ°™μ€ ν•νƒμ…λ‹λ‹¤.

- answer: λ¬Έν•­μ— λ€ν•΄ μ‘λ‹µν• κ°’μ…λ‹λ‹¤. μ¦‰ value μ™€ κ°™μ€ ν•νƒμ…λ‹λ‹¤.

```json
{
  "response": [
    {
      "id": "fieldId",
      "label": "fieldLabel",
      "answer": "value"
    },
    {
      "id": "fieldId",
      "label": "fieldLabel",
      "answer": "value"
    }
  ]
}
```

### API μ‚¬μ©ν•κΈ°

<Steps>
    ### Authorization ν† ν° λ§λ“¤κΈ°

    - μ™λΌ μ‘λ‹µ APIλ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” λ¨Όμ € Headers μ•μ— key: "Authorization" value: **TOKEN** μ„ λ„£μ–΄μ•Ό ν•©λ‹λ‹¤.

    ```markdown
    TOKEN μ€ {Client ID}:{API Key} λ¥Ό base64λ΅ μΈμ½”λ”©ν• κ°’μ…λ‹λ‹¤.
    ```

    ### API ν…μ¤νΈν•κΈ°

    [μ΄
    λ§ν¬](https://staging---walla-api-thqwfj7gra-uc.a.run.app/api-docs/#/Check%20Response%20Exists/post_checkFieldDataExists)λ¥Ό
    ν†µν•΄ μ™λΌ μ‘λ‹µ APIλ¥Ό ν…μ¤νΈν•΄λ³Ό μ μμµλ‹λ‹¤.

    ![Untitled](https://paprikastorage.com/images%2Fwalla_api%2Fswagger_authorize.png)

    ν•΄λ‹Ή μ„μΉμ—μ„ μƒμ„±ν• ν† ν°μ„ μ…λ ¥ν•κ³ , `Try it out` λ²„νΌμ„ ν΄λ¦­ν•μ—¬ APIλ¥Ό ν…μ¤νΈν•  μ μμµλ‹λ‹¤.
</Steps>

### API μƒμ„Έ μ¤ν™

- base URL: `https://staging---walla-api-thqwfj7gra-uc.a.run.app`

#### checkFieldDataExists

νΉμ • ν•„λ“μ— λ€ν• μ‘λ‹µμ΄ μ΅΄μ¬ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

- method: POST
- url: `https://staging---walla-api-thqwfj7gra-uc.a.run.app/checkFieldDataExists`
- parameters: empty
- header: `Authorization: {TOKEN}`
- request body:
```json
{
"projectKey": "string",
"fieldLabel": "string",
"value": "string"
}
```

- response: `boolean` κ²°κ³Ό κ°’μ— λ€ν• true / false κ°’μ„ λ°ν™ν•©λ‹λ‹¤.

#### checkCustomerKeyExists

νΉμ • κ³ κ°μ΄ μ‘λ‹µν• μ„¤λ¬Έμ΄ μ΅΄μ¬ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

- method: POST
- url: `https://staging---walla-api-thqwfj7gra-uc.a.run.app/checkCustomerKeyExists`
- parameters: empty
- header: `Authorization: {TOKEN}`
- request body:
```json
{
"projectKey": "string",
"customerKey": "string"
}
```

- response: `boolean` κ²°κ³Ό κ°’μ— λ€ν• true / false κ°’μ„ λ°ν™ν•©λ‹λ‹¤.

#### listColumnData

νΉμ • ν•„λ“μ— λ€ν• μ‘λ‹µμ„ λ¦¬μ¤νΈλ΅ λ°ν™ν•©λ‹λ‹¤.

- method: POST
- url: `https://staging---walla-api-thqwfj7gra-uc.a.run.app/listColumnData`
- parameters: empty
- header: `Authorization: {TOKEN}`
- request body:
```json
{
  "projectKey": "string",
  "fieldLabel": "string"
}
```
- response: νΉμ • ν”„λ΅μ νΈμ νΉμ • ν•„λ“μ— λ€ν• μ‘λ‹µμ— λ€ν• μ •λ³΄λ¥Ό λ°°μ—΄λ΅ λ°ν™ν•©λ‹λ‹¤. κ° μ‘λ‹µμ—λ” μ‘λ‹µ λ‚΄μ©, νƒ€μ„μ¤νƒ¬ν”„, μ‘λ‹µ ν‚¤κ°€ ν¬ν•¨λ©λ‹λ‹¤.

<Callout type='info' emoji="π””">**timestamp**λ” ISO 8601 ν•μ‹μ Date λ¬Έμμ—΄μ…λ‹λ‹¤. ex) 2024-04-15T09:28:55.000Z</Callout>

```json
{
"fieldLabel": "string",
"responses": [
    {
      "response": "string",
      "timestamp": "string",
      "responseKey": "string"
    }
  ],
"fieldId": "string"
}
```

#### listCustomerKeys

customerKey κ°€ μ‚¬μ©λ μ‘λ‹µμ λ°μ΄ν„°λ¥Ό λ°°μ—΄λ΅ λ°ν™ν•©λ‹λ‹¤.

- method: POST
- url: `https://staging---walla-api-thqwfj7gra-uc.a.run.app/listCustomerKeys`
- parameters: empty
- header: `Authorization: {TOKEN}`
- request body:

```json
{
  "projectKey": "string"
}
```

- response: κ° μ‘λ‹µμ customerKey, νƒ€μ„μ¤νƒ¬ν”„λ¥Ό λ°ν™ν•©λ‹λ‹¤.

```json
[
    {
        "customerKey": "string",
        "timestamp": "string"
    },
    {
        "customerKey": "string",
        "timestamp": "string"
    }
]
```

#### getResponseByCustomerKey

νΉμ • κ³ κ°μ΄ μ‘λ‹µν• μ„¤λ¬Έμ„ λ°ν™ν•©λ‹λ‹¤.

- method: POST
- url: `https://staging---walla-api-thqwfj7gra-uc.a.run.app/getResponseByCustomerKey`
- parameters: empty
- header: `Authorization: {TOKEN}`
- request body:
```json
{
  "projectKey": "string",
  "customerKey": "string"
}
```

- response: customerKey μ— μ—°κ΄€λ μ‘λ‹µμ„ λ°ν™ν•©λ‹λ‹¤. νƒ€μ„μ¤νƒ¬ν”„, ν”„λ΅μ νΈ ν‚¤, μ‘λ‹µ ν‚¤, κ³ κ° ν‚¤κ°€ ν¬ν•¨λμ–΄ μμΌλ©°,

κ°κ°μ κ°μ²΄μ— λ¬Έν•­μ κ³ μ  fieldId(id), λ¬Έν•­μ Title(label), κ·Έλ¦¬κ³  λ¬Έν•­μ— λ€ν• μ‘λ‹µ(answer)μ„ ν¬ν•¨ν•©λ‹λ‹¤.

```json
{
  "timestamp": "string",
  "projectKey": "string",
  "responseKey": "string",
  "customerKey": "string",
  "response": [
    {
      "id": "string",
      "label": "string",
      "answer": "string"
    }
  ]
}
```

#### getResponseByResponseKey

νΉμ • μ‘λ‹µ ν‚¤μ— λ€ν• μ‘λ‹µμ„ λ°ν™ν•©λ‹λ‹¤.

- method: POST
- url: `https://staging---walla-api-thqwfj7gra-uc.a.run.app/getResponseByResponseKey`
- parameters: empty
- header: `Authorization: {TOKEN}`
- request body:
```json
{
  "projectKey": "string",
  "responseKey": "string"
}
```

- response: responseKey μ— μ—°κ΄€λ μ‘λ‹µμ„ λ°ν™ν•©λ‹λ‹¤. νƒ€μ„μ¤νƒ¬ν”„, ν”„λ΅μ νΈ ν‚¤, μ‘λ‹µ ν‚¤, κ³ κ° ν‚¤κ°€ ν¬ν•¨λμ–΄ μμΌλ©°,

κ°κ°μ κ°μ²΄μ— λ¬Έν•­μ κ³ μ  fieldId(id), λ¬Έν•­μ Title(label), κ·Έλ¦¬κ³  λ¬Έν•­μ— λ€ν• μ‘λ‹µ(answer)μ„ ν¬ν•¨ν•©λ‹λ‹¤.

```json
{
  "timestamp": "string",
  "projectKey": "string",
  "customerKey": "string",
  "response": [
    {
      "id": "string",
      "label": "string",
      "answer": "string"
    }
  ]
}
```

#### getProjectResponses

νΉμ • ν”„λ΅μ νΈμ— λ€ν• λ¨λ“  μ‘λ‹µμ„ λ°ν™ν•©λ‹λ‹¤.

- method: POST
- url: `https://staging---walla-api-thqwfj7gra-uc.a.run.app/getProjectResponses`
- parameters: empty
- header: `Authorization: {TOKEN}`
- request body:

```json
{
  "projectKey": "string"
}
```

- response: ν”„λ΅μ νΈμ— λ€ν• λ¨λ“  μ‘λ‹µμ„ λ°ν™ν•©λ‹λ‹¤. κ° μ‘λ‹µμ—λ” fieldId(id), λ¬Έν•­ Title(label), νƒ€μ„μ¤νƒ¬ν”„, [hiddenFields](/Create_Form_&_Survey_And_Share/Hidden_Field) κ°€ ν¬ν•¨λμ–΄ μμµλ‹λ‹¤.

```json
{
    "projectDetails": {
        "fields": [
            {
                "id": "string",
                "label": "string"
            }
        ],
        "hiddenFields": [],
        "projectKey": "string"
    },
    "responses": [
        {
            "timestamp": "string",
            "customerKey": "string",
            "responseKey": "string",
            "response": [
                {
                    "id": "string",
                    "label": "string",
                    "answer": "string"
                }
            ]
        },
        {
            "timestamp": "string",
            "customerKey": "string",
            "responseKey": "string",
            "response": [
                {
                    "id": "string",
                    "label": "string",
                    "answer": "string"
                }
            ]
        }
    ]
}
```

### μ—λ¬ μ‘λ‹µ μ½”λ“

<Callout type='error' emoji="π¨">**λ¨λ“  API νΈμ¶μ—λ” TOKEN μ΄ ν•„μ”ν•©λ‹λ‹¤.**</Callout>

#### 400 Bad Request

- νΉμ • ν‚¤μ— λ€ν•΄ μλ»λ κ°’μ΄ λ“¤μ–΄κ°”μ„ λ• λ°ν™λ©λ‹λ‹¤.

```json
{
  "message": "Bad Request"
}
```

- μ΅°νν•  ν”„λ΅μ νΈκ°€ μ΅΄μ¬ν•μ§€ μ•μ„ λ• λ°ν™λ©λ‹λ‹¤.

```json
{
  "message": "Bad Request: Project does not exist"
}
```

#### 403 Unauthorized & Forbidden

- λ°κΈ‰λ°›λ” Client IDκ°€ ν”„λ΅μ νΈμ— μ ‘κ·Όν•  κ¶ν•μ΄ μ—†λ” κ²½μ° λ°ν™λ©λ‹λ‹¤.

```json
{
  "message": "Unauthorized: No Access to Project"
}
```

- ν—¤λ”μ— Authorization ν† ν°μ΄ μ—†λ” κ²½μ°μ— λ°ν™λ©λ‹λ‹¤.

```json
{
  "message": "Unauthorized: No API Key"
}
```

- ν—¤λ”μ— μλ»λ Authorization ν† ν°μ΄ λ“¤μ–΄κ°„ κ²½μ°μ— λ°ν™λ©λ‹λ‹¤.

```json
{
  "message": "Unauthorized: Invalid API Key"
}
```

- ν€ λ‚΄ κ΄€λ¦¬μκ°€ μ•„λ‹ μ‚¬λμ΄ APIλ¥Ό μ‚¬μ©ν•λ ¤κ³  ν•  λ• λ°ν™λ©λ‹λ‹¤.

```json
{
  "message": "Unauthorized: No Access to API"
}
```

#### 500 Internal Server Error

- μ„λ²„μƒμ μ¤λ¥κ°€ λ°μƒν–μ„ λ• λ°ν™λ©λ‹λ‹¤.

```json
{
  "message": "Internal Server Error"
}
```